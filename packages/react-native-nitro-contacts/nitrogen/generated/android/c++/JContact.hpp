///
/// JContact.hpp
/// This file was generated by nitrogen. DO NOT MODIFY THIS FILE.
/// https://github.com/mrousavy/nitro
/// Copyright Â© Marc Rousavy @ Margelo
///

#pragma once

#include <fbjni/fbjni.h>
#include "Contact.hpp"

#include "JLabeledValue.hpp"
#include "JPostalAddress.hpp"
#include "LabeledValue.hpp"
#include "PostalAddress.hpp"
#include <optional>
#include <string>
#include <vector>

namespace margelo::nitro::nitrocontacts {

  using namespace facebook;

  /**
   * The C++ JNI bridge between the C++ struct "Contact" and the the Kotlin data class "Contact".
   */
  struct JContact final: public jni::JavaClass<JContact> {
  public:
    static auto constexpr kJavaDescriptor = "Lcom/margelo/nitro/nitrocontacts/Contact;";

  public:
    /**
     * Convert this Java/Kotlin-based struct to the C++ struct Contact by copying all values to C++.
     */
    [[maybe_unused]]
    [[nodiscard]]
    Contact toCpp() const {
      static const auto clazz = javaClassStatic();
      static const auto fieldId = clazz->getField<jni::JString>("id");
      jni::local_ref<jni::JString> id = this->getFieldValue(fieldId);
      static const auto fieldDisplayName = clazz->getField<jni::JString>("displayName");
      jni::local_ref<jni::JString> displayName = this->getFieldValue(fieldDisplayName);
      static const auto fieldGivenName = clazz->getField<jni::JString>("givenName");
      jni::local_ref<jni::JString> givenName = this->getFieldValue(fieldGivenName);
      static const auto fieldMiddleName = clazz->getField<jni::JString>("middleName");
      jni::local_ref<jni::JString> middleName = this->getFieldValue(fieldMiddleName);
      static const auto fieldFamilyName = clazz->getField<jni::JString>("familyName");
      jni::local_ref<jni::JString> familyName = this->getFieldValue(fieldFamilyName);
      static const auto fieldCompany = clazz->getField<jni::JString>("company");
      jni::local_ref<jni::JString> company = this->getFieldValue(fieldCompany);
      static const auto fieldJobTitle = clazz->getField<jni::JString>("jobTitle");
      jni::local_ref<jni::JString> jobTitle = this->getFieldValue(fieldJobTitle);
      static const auto fieldDepartment = clazz->getField<jni::JString>("department");
      jni::local_ref<jni::JString> department = this->getFieldValue(fieldDepartment);
      static const auto fieldNote = clazz->getField<jni::JString>("note");
      jni::local_ref<jni::JString> note = this->getFieldValue(fieldNote);
      static const auto fieldBirthday = clazz->getField<jni::JString>("birthday");
      jni::local_ref<jni::JString> birthday = this->getFieldValue(fieldBirthday);
      static const auto fieldEmails = clazz->getField<jni::JArrayClass<JLabeledValue>>("emails");
      jni::local_ref<jni::JArrayClass<JLabeledValue>> emails = this->getFieldValue(fieldEmails);
      static const auto fieldPhoneNumbers = clazz->getField<jni::JArrayClass<JLabeledValue>>("phoneNumbers");
      jni::local_ref<jni::JArrayClass<JLabeledValue>> phoneNumbers = this->getFieldValue(fieldPhoneNumbers);
      static const auto fieldPostalAddresses = clazz->getField<jni::JArrayClass<JPostalAddress>>("postalAddresses");
      jni::local_ref<jni::JArrayClass<JPostalAddress>> postalAddresses = this->getFieldValue(fieldPostalAddresses);
      static const auto fieldUrlAddresses = clazz->getField<jni::JArrayClass<JLabeledValue>>("urlAddresses");
      jni::local_ref<jni::JArrayClass<JLabeledValue>> urlAddresses = this->getFieldValue(fieldUrlAddresses);
      static const auto fieldThumbnailPath = clazz->getField<jni::JString>("thumbnailPath");
      jni::local_ref<jni::JString> thumbnailPath = this->getFieldValue(fieldThumbnailPath);
      static const auto fieldHasImage = clazz->getField<jboolean>("hasImage");
      jboolean hasImage = this->getFieldValue(fieldHasImage);
      return Contact(
        id->toStdString(),
        displayName->toStdString(),
        givenName->toStdString(),
        middleName->toStdString(),
        familyName->toStdString(),
        company->toStdString(),
        jobTitle->toStdString(),
        department->toStdString(),
        note->toStdString(),
        birthday != nullptr ? std::make_optional(birthday->toStdString()) : std::nullopt,
        [&]() {
          size_t __size = emails->size();
          std::vector<LabeledValue> __vector;
          __vector.reserve(__size);
          for (size_t __i = 0; __i < __size; __i++) {
            auto __element = emails->getElement(__i);
            __vector.push_back(__element->toCpp());
          }
          return __vector;
        }(),
        [&]() {
          size_t __size = phoneNumbers->size();
          std::vector<LabeledValue> __vector;
          __vector.reserve(__size);
          for (size_t __i = 0; __i < __size; __i++) {
            auto __element = phoneNumbers->getElement(__i);
            __vector.push_back(__element->toCpp());
          }
          return __vector;
        }(),
        [&]() {
          size_t __size = postalAddresses->size();
          std::vector<PostalAddress> __vector;
          __vector.reserve(__size);
          for (size_t __i = 0; __i < __size; __i++) {
            auto __element = postalAddresses->getElement(__i);
            __vector.push_back(__element->toCpp());
          }
          return __vector;
        }(),
        [&]() {
          size_t __size = urlAddresses->size();
          std::vector<LabeledValue> __vector;
          __vector.reserve(__size);
          for (size_t __i = 0; __i < __size; __i++) {
            auto __element = urlAddresses->getElement(__i);
            __vector.push_back(__element->toCpp());
          }
          return __vector;
        }(),
        thumbnailPath != nullptr ? std::make_optional(thumbnailPath->toStdString()) : std::nullopt,
        static_cast<bool>(hasImage)
      );
    }

  public:
    /**
     * Create a Java/Kotlin-based struct by copying all values from the given C++ struct to Java.
     */
    [[maybe_unused]]
    static jni::local_ref<JContact::javaobject> fromCpp(const Contact& value) {
      using JSignature = JContact(jni::alias_ref<jni::JString>, jni::alias_ref<jni::JString>, jni::alias_ref<jni::JString>, jni::alias_ref<jni::JString>, jni::alias_ref<jni::JString>, jni::alias_ref<jni::JString>, jni::alias_ref<jni::JString>, jni::alias_ref<jni::JString>, jni::alias_ref<jni::JString>, jni::alias_ref<jni::JString>, jni::alias_ref<jni::JArrayClass<JLabeledValue>>, jni::alias_ref<jni::JArrayClass<JLabeledValue>>, jni::alias_ref<jni::JArrayClass<JPostalAddress>>, jni::alias_ref<jni::JArrayClass<JLabeledValue>>, jni::alias_ref<jni::JString>, jboolean);
      static const auto clazz = javaClassStatic();
      static const auto create = clazz->getStaticMethod<JSignature>("fromCpp");
      return create(
        clazz,
        jni::make_jstring(value.id),
        jni::make_jstring(value.displayName),
        jni::make_jstring(value.givenName),
        jni::make_jstring(value.middleName),
        jni::make_jstring(value.familyName),
        jni::make_jstring(value.company),
        jni::make_jstring(value.jobTitle),
        jni::make_jstring(value.department),
        jni::make_jstring(value.note),
        value.birthday.has_value() ? jni::make_jstring(value.birthday.value()) : nullptr,
        [&]() {
          size_t __size = value.emails.size();
          jni::local_ref<jni::JArrayClass<JLabeledValue>> __array = jni::JArrayClass<JLabeledValue>::newArray(__size);
          for (size_t __i = 0; __i < __size; __i++) {
            const auto& __element = value.emails[__i];
            auto __elementJni = JLabeledValue::fromCpp(__element);
            __array->setElement(__i, *__elementJni);
          }
          return __array;
        }(),
        [&]() {
          size_t __size = value.phoneNumbers.size();
          jni::local_ref<jni::JArrayClass<JLabeledValue>> __array = jni::JArrayClass<JLabeledValue>::newArray(__size);
          for (size_t __i = 0; __i < __size; __i++) {
            const auto& __element = value.phoneNumbers[__i];
            auto __elementJni = JLabeledValue::fromCpp(__element);
            __array->setElement(__i, *__elementJni);
          }
          return __array;
        }(),
        [&]() {
          size_t __size = value.postalAddresses.size();
          jni::local_ref<jni::JArrayClass<JPostalAddress>> __array = jni::JArrayClass<JPostalAddress>::newArray(__size);
          for (size_t __i = 0; __i < __size; __i++) {
            const auto& __element = value.postalAddresses[__i];
            auto __elementJni = JPostalAddress::fromCpp(__element);
            __array->setElement(__i, *__elementJni);
          }
          return __array;
        }(),
        [&]() {
          size_t __size = value.urlAddresses.size();
          jni::local_ref<jni::JArrayClass<JLabeledValue>> __array = jni::JArrayClass<JLabeledValue>::newArray(__size);
          for (size_t __i = 0; __i < __size; __i++) {
            const auto& __element = value.urlAddresses[__i];
            auto __elementJni = JLabeledValue::fromCpp(__element);
            __array->setElement(__i, *__elementJni);
          }
          return __array;
        }(),
        value.thumbnailPath.has_value() ? jni::make_jstring(value.thumbnailPath.value()) : nullptr,
        value.hasImage
      );
    }
  };

} // namespace margelo::nitro::nitrocontacts
